<div class="container py-5">
  <div class="row">
    <div class="col-lg-8 mx-auto">
      <div class="card">
        <div class="card-header bg-secondary text-white p-3">
          <h3 class="mb-0 text-center">User Profile</h3>
        </div>
        <div class="card-body px-5">
          <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
            <div class="row mb-4">
              <div class="col-12 text-center mb-4">
                <div class="profile-image-container">
                  <img [src]="imagePreview || 'images/profile.png'" 
                       class="rounded-circle profile-image" 
                       alt="Profile Image">
                  <div class="image-upload">
                    <label for="profileImage" class="btn btn-outline-primary btn-sm">
                      Change Photo
                    </label>
                    <input type="file" 
                           id="profileImage" 
                           accept="image/*" 
                           (change)="onFileSelect($event)" 
                           class="d-none">
                  </div>
                </div>
              </div>
              
              <div class="col-md-6">
                <div class="form-group mb-3">
                  <label for="firstName">First Name</label>
                  <input type="text" 
                         class="form-control" 
                         id="firstName" 
                         formControlName="firstName"
                         [class.is-invalid]="profileForm.get('firstName')?.invalid && 
                                          profileForm.get('firstName')?.touched">
                  <div class="invalid-feedback">
                    First name is required
                  </div>
                </div>
              </div>
              
              <div class="col-md-6">
                <div class="form-group mb-3">
                  <label for="lastName">Last Name</label>
                  <input type="text" 
                         class="form-control" 
                         id="lastName" 
                         formControlName="lastName"
                         [class.is-invalid]="profileForm.get('lastName')?.invalid && 
                                          profileForm.get('lastName')?.touched">
                  <div class="invalid-feedback">
                    Last name is required
                  </div>
                </div>
              </div>
              
              <div class="col-md-6">
                <div class="form-group mb-3">
                  <label for="email">Email</label>
                  <input type="email" 
                         class="form-control" 
                         id="email" 
                         formControlName="email"
                         [class.is-invalid]="profileForm.get('email')?.invalid && 
                                          profileForm.get('email')?.touched">
                  <div class="invalid-feedback">
                    Please enter a valid email
                  </div>
                </div>
              </div>
              
              <div class="col-md-6">
                <div class="form-group mb-3">
                  <label for="username">Username</label>
                  <input type="text" 
                         class="form-control" 
                         id="username" 
                         formControlName="username"
                         [class.is-invalid]="profileForm.get('username')?.invalid && 
                                          profileForm.get('username')?.touched">
                  <div class="invalid-feedback">
                    Please enter valid username
                  </div>
                </div>
              </div>
              
              <div class="col-12">
                <div class="form-group mb-3">
                  <label for="bio">Bio</label>
                  <textarea class="form-control" 
                          id="bio" 
                          rows="3" 
                          formControlName="bio">
                  </textarea>
                </div>
              </div>
            </div>
            
            <div class="text-center">
              <button type="submit" 
                      class="btn btn-primary btn-lg"
                      [disabled]="!profileForm.valid">
                Update Profile
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>